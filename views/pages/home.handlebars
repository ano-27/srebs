<div class="home-container">
    <h2>Welcome to SREBS</h2>
    
    <div class="tabs">
        <a href="/cart" class="tab active">View Cart</a>
        <a href="/history" class="tab active">Transaction History</a>
        <a href="#" id = "logoutElem" class="logout">Log Out</a>
    </div><br><br>

    <div class="main-options">
        <button id="scan-qr-btn" class="main-btn">Scan QR</button>
        {{!-- <button id="view-cart-btn" class="main-btn">View Cart</button> --}}
    </div>
    
    <!-- QR Scanner Container -->
    <div id="scanner-container" style="display: none;">
        <h3>Scan Product QR Code</h3>
        <div id="reader"></div>
        <button id="cancel-scan" class="cancel-btn">Cancel</button>
    </div>
    
    <!-- Product Details After Scan -->
    <div id="scanned-product-container" style="display: none;">
        <h3>Scanned Product</h3>
        <div class="product-details">
            <p><strong>Name:</strong> <span id="product-name"></span></p>
            <p><strong>Price:</strong> <span id="product-price"></span></p>
            <p><strong>Type:</strong> <span id="product-type"></span></p>
            
            <div class="quantity-selector">
                <label for="product-quantity">Quantity:</label>
                <input type="number" id="product-quantity" name="quantity" value="1" min="1">
            </div>
            
            <input type="hidden" id="product-id">
            
            <div class="product-actions">
                <button id="add-to-cart-btn">Add to Cart</button>
                <button id="direct-checkout-btn">Proceed to Checkout</button>
                <button id="cancel-product-view" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Cart Container -->
    <div id="cart-container" style="display: none;">
        <h3>My Cart</h3>
        <div class="cart-summary">
            <p>Total Items: <span id="cart-total-items">0</span></p>
            <p>Total Amount: ₹<span id="cart-total-amount">0.00</span></p>
        </div>
        
        <table class="cart-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="cart-items">
                <!-- Cart items will be inserted here -->
            </tbody>
        </table>
        
        <div class="cart-actions">
            <button id="checkout-btn">Proceed to Checkout</button>
            <button id="empty-cart-btn">Empty Cart</button>
            <button id="continue-shopping-btn">Continue Shopping</button>
        </div>
    </div>
    
    <!-- Edit Cart Item Modal -->
    <div id="edit-cart-item-container" style="display: none;">
        <h3>Edit Cart Item</h3>
        <form id="edit-cart-item-form">
            <input type="hidden" id="edit-cart-item-id">
            <p><strong>Product:</strong> <span id="edit-cart-item-name"></span></p>
            <p><strong>Price:</strong> ₹<span id="edit-cart-item-price"></span></p>
            
            <div class="form-group">
                <label for="edit-cart-item-quantity">Quantity:</label>
                <input type="number" id="edit-cart-item-quantity" name="quantity" min="1" required>
            </div>
            
            <button type="submit">Update Item</button>
            <button type="button" id="cancel-edit-cart-item">Cancel</button>
        </form>
    </div>
</div>

<script src="/js/html5-qrcode.min.js"></script>
<script src="/js/home.js"></script>